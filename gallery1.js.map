{"version":3,"file":"gallery1.js","sources":["../src/js/gallery1.js"],"sourcesContent":["import { gsap } from \"gsap\";  \r\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\r\nimport  'basiclightbox/dist/basicLightbox.min.css';\r\n\r\n\r\nimport SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nconst images = [\r\n  \r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg\",\r\n      description: \"Hokkaido Flower\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\r\n      description: \"Container Haulage Freight\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\r\n      description: \"Aerial Beach View\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\r\n      description: \"Flower Blooms\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\r\n      description: \"Alpine Mountains\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\r\n      description: \"Mountain Lake Sailing\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\r\n      description: \"Alpine Spring Meadows\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\r\n      description: \"Nature Landscape\",\r\n    },\r\n    {\r\n      preview:\r\n        \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\r\n      original:\r\n        \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\r\n      description: \"Lighthouse Coast Sea\",\r\n    },\r\n    \r\n    \r\n  ];\r\n\r\n  const markup = images.map(({ preview, original, description}) => \r\n    \r\n`\r\n<li class=\"gallery__item\">\r\n<a class=\"gallery__link\" href=\"${original}\">\r\n  <img\r\n    class=\"gallery__image\"\r\n    src=\"${preview}\"\r\n    data-source=\"${original}\"\r\n    alt=\"${description}\"\r\n  />\r\n</a>\r\n</li>`).join('')\r\n\r\nconst gallery = document.querySelector('.gallery');\r\n\r\ngallery.insertAdjacentHTML('beforeend', markup);\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a', {\r\n    captions: true, \r\n    captionsData: 'alt', \r\n    captionDelay: 250, \r\n  });\r\n\r\n\r\n  const currentIndexElement = document.querySelector('.current-index');\r\nconst totalCountElement = document.querySelector('.total-count');\r\nconst totalImages = images.length;\r\n\r\nlightbox.on('show.simplelightbox', countImage)\r\nfunction countImage() {\r\n  // Проверяем, доступен ли currentIndex в lightbox\r\n  if (typeof lightbox.currentIndex !== 'undefined') {\r\n    const currentIndex = lightbox.currentIndex + 1; // +1, так как индексация с 0\r\n    currentIndexElement.textContent = currentIndex;\r\n  } else {\r\n    console.error('currentIndex is not defined in lightbox');\r\n  }\r\n  totalCountElement.textContent = totalImages;\r\n}\r\ncountImage();\r\n\r\n// Correct import for ScrollTrigger\r\n\r\n// Register ScrollTrigger plugin1\r\ngsap.registerPlugin(ScrollTrigger);\r\n\r\n// Регистрируем плагин ScrollToPlugin\r\n\r\nconst container = document.querySelector('.layout');\r\nconst slides = document.querySelectorAll('.description, .gallery__item');\r\n\r\nconst containerWidth = container.offsetWidth;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nScrollTrigger.matchMedia({\r\n\t\"(min-width: 800px)\": function() {\r\nlet tl1 = gsap.timeline({\t\r\n\tscrollTrigger: {\r\n\t\tmarkers:true,\r\n\t\ttrigger: container, \r\n\t\tpin: true, \r\n\t\tscrub: 1, \r\n\t\tstart:'top top',\r\n\t\t\r\n\t\tend: () => '+=' + containerWidth , \r\n\t\tanticipatePin: 1, \r\n\t\tinvalidateOnRefresh: true, \r\n\t\t\r\n\t}\r\n\t\r\n})\r\n\t\r\ntl1.to( slides, {\r\n\txPercent: -100 * (slides.length - 2),\r\n\tease: \"none\", \r\n})\t\r\n\t},\r\n})"],"names":["images","markup","preview","original","description","gallery","lightbox","SimpleLightbox","currentIndexElement","totalCountElement","totalImages","countImage","currentIndex","gsap","ScrollTrigger","container","slides","containerWidth"],"mappings":"6GAQA,MAAMA,EAAS,CAEX,CACE,QACE,yEACF,SACE,yEACF,YAAa,iBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,2BACd,EACD,CACE,QACE,wEACF,SACE,wEACF,YAAa,mBACd,EACD,CACE,QACE,0EACF,SACE,0EACF,YAAa,eACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,kBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,uBACd,EACD,CACE,QACE,2EACF,SACE,2EACF,YAAa,uBACd,EACD,CACE,QACE,4EACF,SACE,4EACF,YAAa,kBACd,EACD,CACE,QACE,6EACF,SACE,6EACF,YAAa,sBACd,CAGL,EAEQC,EAASD,EAAO,IAAI,CAAC,CAAE,QAAAE,EAAS,SAAAC,EAAU,YAAAC,CAAW,IAE7D;AAAA;AAAA,iCAEiCD,CAAQ;AAAA;AAAA;AAAA,WAG9BD,CAAO;AAAA,mBACCC,CAAQ;AAAA,WAChBC,CAAW;AAAA;AAAA;AAAA,MAGhB,EAAE,KAAK,EAAE,EAETC,EAAU,SAAS,cAAc,UAAU,EAEjDA,EAAQ,mBAAmB,YAAaJ,CAAM,EAE9C,MAAMK,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAGKC,EAAsB,SAAS,cAAc,gBAAgB,EAC/DC,EAAoB,SAAS,cAAc,cAAc,EACzDC,EAAcV,EAAO,OAE3BM,EAAS,GAAG,sBAAuBK,CAAU,EAC7C,SAASA,GAAa,CAEpB,GAAI,OAAOL,EAAS,aAAiB,IAAa,CAChD,MAAMM,EAAeN,EAAS,aAAe,EAC7CE,EAAoB,YAAcI,CACtC,MACI,QAAQ,MAAM,yCAAyC,EAEzDH,EAAkB,YAAcC,CAClC,CACAC,IAKAE,EAAK,eAAeC,CAAa,EAIjC,MAAMC,EAAY,SAAS,cAAc,SAAS,EAC5CC,EAAS,SAAS,iBAAiB,8BAA8B,EAEjEC,EAAiBF,EAAU,YAUjCD,EAAc,WAAW,CACxB,qBAAsB,UAAW,CACxBD,EAAK,SAAS,CACvB,cAAe,CACd,QAAQ,GACR,QAASE,EACT,IAAK,GACL,MAAO,EACP,MAAM,UAEN,IAAK,IAAM,KAAOE,EAClB,cAAe,EACf,oBAAqB,EAErB,CAEF,CAAC,EAEG,GAAID,EAAQ,CACf,SAAU,MAAQA,EAAO,OAAS,GAClC,KAAM,MACP,CAAC,CACC,CACF,CAAC"}